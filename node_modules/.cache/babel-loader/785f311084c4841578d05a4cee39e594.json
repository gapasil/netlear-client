{"ast":null,"code":"var _jsxFileName = \"/home/gapasil/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438/\\u0434\\u0437/javascript/netlear/clientNetlear/src/views/AuthForms/RegPage/RegPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './RegPage.scss';\nimport { useHistory } from 'react-router-dom';\nimport { setLS, getLS } from '../../../utils/LocalStorage';\nimport { Form, Input, Button, message } from 'antd';\nimport privacyPDF from '../../../assets/pdf/privacy_projectbox.pdf';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userSignUp } from '../../../redux/actions/user';\nimport { setSpinTrue, setSpinFalse } from '../../../redux/actions/spinner';\nimport { fetchSignUp } from '../../../redux/actions/Auth/Auth';\nimport Spinner from '../../../components/Spinner/Spinner';\nimport AuthHeader from '../../../components/AuthHeader/AuthHeader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst layout = {\n  labelCol: {\n    span: 4\n  },\n  wrapperCol: {\n    span: 22\n  }\n};\nconst tailLayout = {//   wrapperCol: {\n  //     offset: 8,\n  //     span: 16,\n  //   },\n};\n\nfunction RegPage() {\n  _s();\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {\n    token\n  } = useSelector(state => state.Auth); // const [userToken, setUserToken] = React.useState(getLS('EDMED_USER_TOKEN') || null);\n  // const { isCompleted, errorMessage } = useSelector((state) => state.user);\n  // React.useEffect(() => {\n  //   if (isCompleted) {\n  //     message.success('Письмо о подтверждении отправлено на указанный Email');\n  //     dispatch(setSpinFalse());\n  //   }\n  //   if (errorMessage === 500) {\n  //     message.error('Проверьте правильность электронной почты!');\n  //     dispatch(setSpinFalse());\n  //   }\n  //   if (errorMessage === 401) {\n  //     message.error('Данный Email уже зарегистрирован!');\n  //     dispatch(setSpinFalse());\n  //   }\n  // }, [isCompleted, errorMessage]);\n\n  React.useEffect(() => {\n    if (token) {\n      history.push('/');\n    }\n  }, [token]);\n\n  const onFinish = async values => {\n    dispatch(setSpinTrue());\n    await dispatch(fetchSignUp(values));\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register\",\n    children: [/*#__PURE__*/_jsxDEV(AuthHeader, {\n      title: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register__form\",\n      children: /*#__PURE__*/_jsxDEV(Form, { ...layout,\n        name: \"basic\",\n        initialValues: {\n          remember: true\n        },\n        onFinish: onFinish,\n        onFinishFailed: onFinishFailed,\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"\\u0418\\u043C\\u044F\",\n          name: \"firstName\",\n          rules: [{\n            required: true,\n            message: 'Пожалуйста, введите Ваше имя!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\",\n          name: \"lastName\",\n          rules: [{\n            required: true,\n            message: 'Пожалуйста, введите фамилию!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Email\",\n          name: \"email\",\n          rules: [{\n            required: true,\n            message: 'Пожалуйста, введите Email!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n          name: \"password\",\n          rules: [{\n            required: true,\n            message: 'Пожалуйста, введите пароль!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u0443\\u044F\\u0441\\u044C, \\u0432\\u044B \\u0441\\u043E\\u0433\\u043B\\u0430\\u0448\\u0430\\u0435\\u0442\\u0435\\u0441\\u044C \\u0441 \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: privacyPDF,\n            children: \"\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0430\\u043C\\u0438 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u0441\\u0430\\u0439\\u0442\\u043E\\u043C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 46\n          }, this), \" \\u0438 \\u0434\\u0430\\u0451\\u0442\\u0435 \\u0441\\u043E\\u0433\\u043B\\u0430\\u0441\\u0438\\u0435 \\u043D\\u0430 \\u043E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0443 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u044B\\u0445 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...tailLayout,\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              htmlType: \"submit\",\n              children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RegPage, \"mij7/r+xeGMLf+1O2AEsXeqlbZg=\", false, function () {\n  return [useHistory, useDispatch, useSelector];\n});\n\n_c = RegPage;\nexport default RegPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegPage\");","map":{"version":3,"names":["React","useHistory","setLS","getLS","Form","Input","Button","message","privacyPDF","useDispatch","useSelector","userSignUp","setSpinTrue","setSpinFalse","fetchSignUp","Spinner","AuthHeader","layout","labelCol","span","wrapperCol","tailLayout","RegPage","history","dispatch","token","state","Auth","useEffect","push","onFinish","values","onFinishFailed","errorInfo","console","log","remember","required"],"sources":["/home/gapasil/Рабочий стол/Загрузки/дз/javascript/netlear/clientNetlear/src/views/AuthForms/RegPage/RegPage.jsx"],"sourcesContent":["import React from 'react';\nimport './RegPage.scss';\n\nimport { useHistory } from 'react-router-dom';\n\nimport { setLS, getLS } from '../../../utils/LocalStorage';\n\nimport { Form, Input, Button, message } from 'antd';\nimport privacyPDF from '../../../assets/pdf/privacy_projectbox.pdf';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userSignUp } from '../../../redux/actions/user';\nimport { setSpinTrue, setSpinFalse } from '../../../redux/actions/spinner';\nimport { fetchSignUp } from '../../../redux/actions/Auth/Auth';\n\nimport Spinner from '../../../components/Spinner/Spinner';\nimport AuthHeader from '../../../components/AuthHeader/AuthHeader';\n\nconst layout = {\n  labelCol: {\n    span: 4,\n  },\n  wrapperCol: {\n    span: 22,\n  },\n};\nconst tailLayout = {\n  //   wrapperCol: {\n  //     offset: 8,\n  //     span: 16,\n  //   },\n};\n\nfunction RegPage() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const { token } = useSelector((state) => state.Auth);\n  // const [userToken, setUserToken] = React.useState(getLS('EDMED_USER_TOKEN') || null);\n  // const { isCompleted, errorMessage } = useSelector((state) => state.user);\n\n  // React.useEffect(() => {\n  //   if (isCompleted) {\n  //     message.success('Письмо о подтверждении отправлено на указанный Email');\n  //     dispatch(setSpinFalse());\n  //   }\n  //   if (errorMessage === 500) {\n  //     message.error('Проверьте правильность электронной почты!');\n  //     dispatch(setSpinFalse());\n  //   }\n  //   if (errorMessage === 401) {\n  //     message.error('Данный Email уже зарегистрирован!');\n  //     dispatch(setSpinFalse());\n  //   }\n  // }, [isCompleted, errorMessage]);\n\n  React.useEffect(() => {\n    if (token) {\n      history.push('/');\n    }\n  }, [token]);\n  \n  const onFinish = async (values) => {\n    dispatch(setSpinTrue());\n    await dispatch(fetchSignUp(values));\n  };\n\n  const onFinishFailed = (errorInfo) => {\n    console.log('Failed:', errorInfo);\n  };\n\n  return (\n    <div className=\"register\">\n      <AuthHeader title=\"Регистрация\" />\n      <div className=\"register__form\">\n        <Form\n          {...layout}\n          name=\"basic\"\n          initialValues={{\n            remember: true,\n          }}\n          onFinish={onFinish}\n          onFinishFailed={onFinishFailed}>\n          <Form.Item\n            label=\"Имя\"\n            name=\"firstName\"\n            rules={[\n              {\n                required: true,\n                message: 'Пожалуйста, введите Ваше имя!',\n              },\n            ]}>\n            <Input />\n          </Form.Item>\n          <Form.Item\n            label=\"Фамилия\"\n            name=\"lastName\"\n            rules={[\n              {\n                required: true,\n                message: 'Пожалуйста, введите фамилию!',\n              },\n            ]}>\n            <Input />\n          </Form.Item>\n          <Form.Item\n            label=\"Email\"\n            name=\"email\"\n            rules={[\n              {\n                required: true,\n                message: 'Пожалуйста, введите Email!',\n              },\n            ]}>\n            <Input />\n          </Form.Item>\n\n          <Form.Item\n            label=\"Пароль\"\n            name=\"password\"\n            rules={[\n              {\n                required: true,\n                message: 'Пожалуйста, введите пароль!',\n              },\n            ]}>\n            <Input.Password />\n          </Form.Item>\n          <p>\n            Регистрируясь, вы соглашаетесь с <a href={privacyPDF}>правилами пользования сайтом</a> и\n            даёте согласие на обработку персональных данных.\n          </p>\n          <Form.Item {...tailLayout}>\n            <Spinner>\n              <Button type=\"primary\" htmlType=\"submit\">\n                Зарегистрироваться\n              </Button>\n            </Spinner>\n          </Form.Item>\n        </Form>\n      </div>\n    </div>\n  );\n}\n\nexport default RegPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}