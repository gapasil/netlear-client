{"ast":null,"code":"import axios from 'axios';\nimport { getLS } from '../LocalStorage';\nconst URL = 'http://netlear-server.site';\n\nconst apiFetch = function (route) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let isToken = arguments.length > 2 ? arguments[2] : undefined;\n  console.log(route);\n  const apiUrl = URL + route;\n\n  if (isToken) {\n    const token = getLS('EDMED_USER_TOKEN');\n    return axios(apiUrl, { ...options,\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(result => result.data);\n  }\n\n  return axios(apiUrl, { ...options\n  }, {\n    headers: {\n      'Content-Type': 'application/json;charset=utf-8'\n    }\n  }).then(result => result.json());\n};\n\nexport default apiFetch;","map":{"version":3,"names":["axios","getLS","URL","apiFetch","route","options","isToken","console","log","apiUrl","token","headers","Authorization","then","result","data","json"],"sources":["/var/www/netlear/html/clientNetlear/src/utils/api/apiFetch.js"],"sourcesContent":["import axios from 'axios';\n\nimport { getLS } from '../LocalStorage';\n\nconst URL = 'http://netlear-server.site';\n\nconst apiFetch = (route, options = {}, isToken) => {\n  console.log(route);\n  const apiUrl = URL + route\n  if (isToken) {\n    const token = getLS('EDMED_USER_TOKEN');\n\n    return axios(apiUrl, {\n      ...options,\n      headers: {\n        Authorization: 'Bearer ' + token\n      },\n    }).then((result) => result.data);\n  }\n\n  return axios(apiUrl, {\n    ...options\n  },\n  {headers: {\n    'Content-Type': 'application/json;charset=utf-8',\n  }}\n  )\n  .then((result) => result.json())\n};\n\nexport default apiFetch;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,KAAT,QAAsB,iBAAtB;AAEA,MAAMC,GAAG,GAAG,4BAAZ;;AAEA,MAAMC,QAAQ,GAAG,UAACC,KAAD,EAAkC;EAAA,IAA1BC,OAA0B,uEAAhB,EAAgB;EAAA,IAAZC,OAAY;EACjDC,OAAO,CAACC,GAAR,CAAYJ,KAAZ;EACA,MAAMK,MAAM,GAAGP,GAAG,GAAGE,KAArB;;EACA,IAAIE,OAAJ,EAAa;IACX,MAAMI,KAAK,GAAGT,KAAK,CAAC,kBAAD,CAAnB;IAEA,OAAOD,KAAK,CAACS,MAAD,EAAS,EACnB,GAAGJ,OADgB;MAEnBM,OAAO,EAAE;QACPC,aAAa,EAAE,YAAYF;MADpB;IAFU,CAAT,CAAL,CAKJG,IALI,CAKEC,MAAD,IAAYA,MAAM,CAACC,IALpB,CAAP;EAMD;;EAED,OAAOf,KAAK,CAACS,MAAD,EAAS,EACnB,GAAGJ;EADgB,CAAT,EAGZ;IAACM,OAAO,EAAE;MACR,gBAAgB;IADR;EAAV,CAHY,CAAL,CAONE,IAPM,CAOAC,MAAD,IAAYA,MAAM,CAACE,IAAP,EAPX,CAAP;AAQD,CAtBD;;AAwBA,eAAeb,QAAf"},"metadata":{},"sourceType":"module"}