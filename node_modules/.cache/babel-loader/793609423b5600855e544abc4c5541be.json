{"ast":null,"code":"import _objectSpread from\"/var/www/netlear/html/clientNetlear/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import'./EventPageAboutSpeaker.scss';import{Popover,Upload}from'antd';import{InboxOutlined}from'@ant-design/icons';import speakerImg from'../../../../assets/img/lector_1.jpg';import VideoPlayer from'../../../../components/VideoPlayer/VideoPlayer';import EditButton from'../../../../components/EditButton/EditButton';import SaveButton from'../../../../components/SaveButton/SaveButton';import TextEditor from'../../../../components/TextEditor/TextEditor';import EventUploadImage from'../../../../components/EventUploadImage/EventUploadImage';import{useDispatch,useSelector}from'react-redux';import{setAboutSpeakerSelectors,setAboutSpeakerData}from'../../../../redux/actions/eventRedactor/eventRedactor';import{aboutSpeakerPopoverContent}from'../../../../utils/eventPopoverContent/aboutSpeakerPopoverContent';import{url}from'../../../../conf';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Dragger=Upload.Dragger;function EventPageAboutSpeaker3(_ref){var variant=_ref.variant;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.eventRedactor.aboutSpeaker;}),data=_useSelector.data,selectors=_useSelector.selectors;var isEditing=selectors.blockEditing;var popoverContent=aboutSpeakerPopoverContent;console.log(data);var onSelectInputValue=function onSelectInputValue(e){var selector=e.target.attributes.selector.nodeValue;var data=e.target.value;console.log(e);dispatch(setAboutSpeakerData(selector,'',data));};var onSelectTextEditorAboutSpeaker=function onSelectTextEditorAboutSpeaker(e){var value=e;var selector='description';dispatch(setAboutSpeakerData(selector,'',value));};var draggerProps={name:'file',multiple:false,maxCount:1,onDrop:function onDrop(e){console.log('Dropped files',e.dataTransfer.files);},beforeUpload:function beforeUpload(file){var selector='video';dispatch(setAboutSpeakerData(selector,'',file));return false;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"about-speaker\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"about-speaker__wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"about-speaker__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"about-speaker__photo\",children:[isEditing&&/*#__PURE__*/_jsx(EventUploadImage,{selector:\"img\",action:setAboutSpeakerData,popoverContentType:popoverContent.img,index:1001}),/*#__PURE__*/_jsx(\"img\",{src:data.img,alt:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"about-speaker__description speaker-description\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"speaker-description__who\",children:\"\\u0441\\u043F\\u0438\\u043A\\u0435\\u0440\"}),!isEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[variant==='redactor'&&/*#__PURE__*/_jsx(EditButton,{action:setAboutSpeakerSelectors,selector:\"blockEditing\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"speaker-description__name\",children:data.fullName}),/*#__PURE__*/_jsx(\"h3\",{className:\"speaker-description__profession\",children:data.career})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SaveButton,{action:setAboutSpeakerSelectors,selector:\"blockEditing\"}),/*#__PURE__*/_jsx(Popover,{placement:\"topRight\",title:'asdasdd',content:'asdasd',trigger:\"focus\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"test-input speaker-description__name_input\",value:data.fullName,selector:\"fullName\",autofocus:true,onChange:onSelectInputValue})}),/*#__PURE__*/_jsx(Popover,{placement:\"topRight\",title:'asdasdd',content:'asdasd',trigger:\"focus\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"test-input speaker-description__profession_input\",value:data.career,selector:\"career\",autoFocus:true,onChange:onSelectInputValue})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"event-page-content__points-list\",children:/*#__PURE__*/_jsx(TextEditor,{onChange:onSelectTextEditorAboutSpeaker,isEditing:selectors.blockEditing,value:data.description})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"about-speaker__promo-video\",children:[variant==='redactor'&&isEditing?/*#__PURE__*/_jsx(\"div\",{className:\"about-speaker__pickup-video\",children:/*#__PURE__*/_jsxs(Dragger,_objectSpread(_objectSpread({},draggerProps),{},{children:[/*#__PURE__*/_jsx(\"p\",{className:\"ant-upload-drag-icon\",children:/*#__PURE__*/_jsx(InboxOutlined,{})}),/*#__PURE__*/_jsx(\"p\",{className:\"ant-upload-text\",children:\"\\u041A\\u043B\\u0438\\u043A\\u043D\\u0438\\u0442\\u0435 \\u0438\\u043B\\u0438 \\u043F\\u0435\\u0440\\u0435\\u0442\\u0430\\u0449\\u0438\\u0442\\u0435 \\u0441\\u044E\\u0434\\u0430 \\u0412\\u0430\\u0448\\u0435 \\u0440\\u0435\\u043A\\u043B\\u0430\\u043C\\u043D\\u043E\\u0435 \\u043F\\u0440\\u043E\\u043C\\u043E-\\u0432\\u0438\\u0434\\u0435\\u043E\"}),/*#__PURE__*/_jsx(\"p\",{className:\"ant-upload-hint\",children:\"\\u0412\\u044B \\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0440\\u0435\\u043A\\u043B\\u0430\\u043C\\u043D\\u043E\\u0435 \\u043F\\u0440\\u043E\\u043C\\u043E-\\u0432\\u0438\\u0434\\u0435\\u043E \\u0441 \\u0440\\u0430\\u0441\\u0441\\u043A\\u0430\\u0437\\u043E\\u043C \\u043E \\u0441\\u0435\\u0431\\u0435 \\u0438 \\u043A\\u0443\\u0440\\u0441\\u0435.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"ant-upload-hint\",children:\"\\u0414\\u0430\\u043D\\u043D\\u043E\\u0435 \\u0432\\u0438\\u0434\\u0435\\u043E \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u043E \\u043B\\u044E\\u0431\\u043E\\u043C\\u0443 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044E \\u0438 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u043E\\u0442\\u043E\\u0431\\u0440\\u0430\\u0436\\u0430\\u0442\\u044C\\u0441\\u044F \\u043D\\u0430 \\u044D\\u0442\\u043E\\u043C \\u043C\\u0435\\u0441\\u0442\\u0435.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"ant-upload-hint\",children:\"\\u0420\\u0435\\u043A\\u043B\\u0430\\u043C\\u043D\\u043E\\u0435 \\u043F\\u0440\\u043E\\u043C\\u043E-\\u0432\\u0438\\u0434\\u0435\\u043E \\u043F\\u043E\\u0432\\u044B\\u0448\\u0430\\u0435\\u0442 \\u0432\\u0435\\u0440\\u043E\\u044F\\u0442\\u043D\\u043E\\u0441\\u0442\\u044C \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438 \\u043A\\u0443\\u0440\\u0441\\u0430 \\u0434\\u0440\\u0443\\u0433\\u0438\\u043C\\u0438 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\\u043C\\u0438.\"})]}))}):variant!==\"redactor\"?/*#__PURE__*/_jsx(VideoPlayer,{videoURL:\"\".concat(url,\"coorsefiles/\").concat(data.video)}):null,variant===\"redactor\"?/*#__PURE__*/_jsx(\"div\",{style:{width:\"60%\"},children:!isEditing&&/*#__PURE__*/_jsx(VideoPlayer,{videoURL:data.video})}):null]})]});}export default EventPageAboutSpeaker3;","map":{"version":3,"names":["React","Popover","Upload","InboxOutlined","speakerImg","VideoPlayer","EditButton","SaveButton","TextEditor","EventUploadImage","useDispatch","useSelector","setAboutSpeakerSelectors","setAboutSpeakerData","aboutSpeakerPopoverContent","url","Dragger","EventPageAboutSpeaker3","variant","dispatch","state","eventRedactor","aboutSpeaker","data","selectors","isEditing","blockEditing","popoverContent","console","log","onSelectInputValue","e","selector","target","attributes","nodeValue","value","onSelectTextEditorAboutSpeaker","draggerProps","name","multiple","maxCount","onDrop","dataTransfer","files","beforeUpload","file","img","fullName","career","description","video","width"],"sources":["/var/www/netlear/html/clientNetlear/src/views/CoorseRedactorPage/corse3Page/EventPageAboutSpeaker/EventPageAboutSpeaker.jsx"],"sourcesContent":["import React from 'react';\nimport './EventPageAboutSpeaker.scss';\n\nimport { Popover, Upload } from 'antd';\nimport { InboxOutlined } from '@ant-design/icons';\n\nimport speakerImg from '../../../../assets/img/lector_1.jpg';\n\nimport VideoPlayer from '../../../../components/VideoPlayer/VideoPlayer';\nimport EditButton from '../../../../components/EditButton/EditButton';\nimport SaveButton from '../../../../components/SaveButton/SaveButton';\nimport TextEditor from '../../../../components/TextEditor/TextEditor';\nimport EventUploadImage from '../../../../components/EventUploadImage/EventUploadImage';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  setAboutSpeakerSelectors,\n  setAboutSpeakerData,\n} from '../../../../redux/actions/eventRedactor/eventRedactor';\n\nimport { aboutSpeakerPopoverContent } from '../../../../utils/eventPopoverContent/aboutSpeakerPopoverContent';\nimport { url } from '../../../../conf';\n\nconst { Dragger } = Upload;\n\nfunction EventPageAboutSpeaker3({ variant }) {\n  const dispatch = useDispatch();\n  const { data, selectors } = useSelector((state) => state.eventRedactor.aboutSpeaker);\n  const isEditing = selectors.blockEditing;\n  const popoverContent = aboutSpeakerPopoverContent;\n  \n  console.log(data);\n\n  const onSelectInputValue = (e) => {\n    const selector = e.target.attributes.selector.nodeValue;\n    const data = e.target.value;\n    console.log(e);\n    dispatch(setAboutSpeakerData(selector, '', data));\n  };\n\n  const onSelectTextEditorAboutSpeaker = (e) => {\n    const value = e;\n    const selector = 'description';\n    dispatch(setAboutSpeakerData(selector, '', value));\n  };\n\n  const draggerProps = {\n    name: 'file',\n    multiple: false,\n    maxCount: 1,\n    onDrop(e) {\n      console.log('Dropped files', e.dataTransfer.files);\n    },\n    beforeUpload: (file) => {\n      const selector = 'video';\n      dispatch(setAboutSpeakerData(selector, '', file));\n      return false;\n    },\n  };\n\n  return (\n    <div className=\"about-speaker\">\n      <div className=\"about-speaker__wrapper\">\n        <div className=\"about-speaker__info\">\n          <div className=\"about-speaker__photo\">\n            {isEditing && (\n              <EventUploadImage\n                selector=\"img\"\n                action={setAboutSpeakerData}\n                popoverContentType={popoverContent.img}\n                index={1001}\n              />\n            )}\n            <img src={data.img} alt=\"\" />\n          </div>\n\n          <div className=\"about-speaker__description speaker-description\">\n            <span className=\"speaker-description__who\">спикер</span>\n\n            {!isEditing ? (\n              <>\n                {variant === 'redactor' && (\n                  <EditButton action={setAboutSpeakerSelectors} selector=\"blockEditing\" />\n                )}\n                <h2 className=\"speaker-description__name\">{data.fullName}</h2>\n                <h3 className=\"speaker-description__profession\">{data.career}</h3>\n              </>\n            ) : (\n              <>\n                <SaveButton action={setAboutSpeakerSelectors} selector=\"blockEditing\" />\n                <Popover placement=\"topRight\" title={'asdasdd'} content={'asdasd'} trigger=\"focus\">\n                  <input\n                    type=\"text\"\n                    className=\"test-input speaker-description__name_input\"\n                    value={data.fullName}\n                    selector=\"fullName\"\n                    autofocus\n                    onChange={onSelectInputValue}\n                  />\n                </Popover>\n                <Popover placement=\"topRight\" title={'asdasdd'} content={'asdasd'} trigger=\"focus\">\n                  <input\n                    type=\"text\"\n                    className=\"test-input speaker-description__profession_input\"\n                    value={data.career}\n                    selector=\"career\"\n                    autoFocus\n                    onChange={onSelectInputValue}\n                  />\n                </Popover>\n              </>\n            )}\n            <div className=\"event-page-content__points-list\">\n              <TextEditor\n                onChange={onSelectTextEditorAboutSpeaker}\n                isEditing={selectors.blockEditing}\n                value={data.description}></TextEditor>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"about-speaker__promo-video\">\n      {variant === 'redactor' && isEditing? \n          <div className=\"about-speaker__pickup-video\">\n            <Dragger {...draggerProps}>\n              <p className=\"ant-upload-drag-icon\">\n                <InboxOutlined />\n              </p>\n              <p className=\"ant-upload-text\">\n                Кликните или перетащите сюда Ваше рекламное промо-видео\n              </p>\n              <p className=\"ant-upload-hint\">\n                Вы можете загрузить рекламное промо-видео с рассказом о себе и курсе.\n              </p>\n              <p className=\"ant-upload-hint\">\n                Данное видео будет доступно любому пользователю и будет отображаться на этом месте.\n              </p>\n              <p className=\"ant-upload-hint\">\n                Рекламное промо-видео повышает вероятность покупки курса другими пользователями.\n              </p>\n            </Dragger>\n          </div>\n          :\n          variant !== \"redactor\"?\n          <VideoPlayer videoURL={`${url}coorsefiles/${data.video}`} />\n          :\n          null\n        }\n        {variant === \"redactor\"?\n        <div style={{width:\"60%\"}}>\n          {!isEditing && <VideoPlayer videoURL={data.video} />}\n        </div>        \n        :\n        null\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default EventPageAboutSpeaker3;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}