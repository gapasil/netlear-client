{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexports.getSource = getSource;\n\nvar _isReactNative = require(\"./isReactNative\");\n\nvar _isReactNative2 = _interopRequireDefault(_isReactNative);\n\nvar _uriToBlob = require(\"./uriToBlob\");\n\nvar _uriToBlob2 = _interopRequireDefault(_uriToBlob);\n\nvar _isCordova = require(\"./isCordova\");\n\nvar _isCordova2 = _interopRequireDefault(_isCordova);\n\nvar _readAsByteArray = require(\"./readAsByteArray\");\n\nvar _readAsByteArray2 = _interopRequireDefault(_readAsByteArray);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar FileSource = function () {\n  function FileSource(file) {\n    _classCallCheck(this, FileSource);\n\n    this._file = file;\n    this.size = file.size;\n  }\n\n  _createClass(FileSource, [{\n    key: \"slice\",\n    value: function slice(start, end, callback) {\n      // In Apache Cordova applications, a File must be resolved using\n      // FileReader instances, see\n      // https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-file/index.html#read-a-file\n      if ((0, _isCordova2.default)()) {\n        (0, _readAsByteArray2.default)(this._file.slice(start, end), function (err, chunk) {\n          if (err) return callback(err);\n          callback(null, chunk);\n        });\n        return;\n      }\n\n      callback(null, this._file.slice(start, end));\n    }\n  }, {\n    key: \"close\",\n    value: function close() {}\n  }]);\n\n  return FileSource;\n}();\n\nvar StreamSource = function () {\n  function StreamSource(reader, chunkSize) {\n    _classCallCheck(this, StreamSource);\n\n    this._chunkSize = chunkSize;\n    this._buffer = undefined;\n    this._bufferOffset = 0;\n    this._reader = reader;\n    this._done = false;\n  }\n\n  _createClass(StreamSource, [{\n    key: \"slice\",\n    value: function slice(start, end, callback) {\n      if (start < this._bufferOffset) {\n        callback(new Error(\"Requested data is before the reader's current offset\"));\n        return;\n      }\n\n      return this._readUntilEnoughDataOrDone(start, end, callback);\n    }\n  }, {\n    key: \"_readUntilEnoughDataOrDone\",\n    value: function _readUntilEnoughDataOrDone(start, end, callback) {\n      var _this = this;\n\n      var hasEnoughData = end <= this._bufferOffset + len(this._buffer);\n\n      if (this._done || hasEnoughData) {\n        var value = this._getDataFromBuffer(start, end);\n\n        callback(null, value, value == null ? this._done : false);\n        return;\n      }\n\n      this._reader.read().then(function (_ref) {\n        var value = _ref.value,\n            done = _ref.done;\n\n        if (done) {\n          _this._done = true;\n        } else if (_this._buffer === undefined) {\n          _this._buffer = value;\n        } else {\n          _this._buffer = concat(_this._buffer, value);\n        }\n\n        _this._readUntilEnoughDataOrDone(start, end, callback);\n      }).catch(function (err) {\n        callback(new Error(\"Error during read: \" + err));\n      });\n    }\n  }, {\n    key: \"_getDataFromBuffer\",\n    value: function _getDataFromBuffer(start, end) {\n      // Remove data from buffer before `start`.\n      // Data might be reread from the buffer if an upload fails, so we can only\n      // safely delete data when it comes *before* what is currently being read.\n      if (start > this._bufferOffset) {\n        this._buffer = this._buffer.slice(start - this._bufferOffset);\n        this._bufferOffset = start;\n      } // If the buffer is empty after removing old data, all data has been read.\n\n\n      var hasAllDataBeenRead = len(this._buffer) === 0;\n\n      if (this._done && hasAllDataBeenRead) {\n        return null;\n      } // We already removed data before `start`, so we just return the first\n      // chunk from the buffer.\n\n\n      return this._buffer.slice(0, end - start);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this._reader.cancel) {\n        this._reader.cancel();\n      }\n    }\n  }]);\n\n  return StreamSource;\n}();\n\nfunction len(blobOrArray) {\n  if (blobOrArray === undefined) return 0;\n  if (blobOrArray.size !== undefined) return blobOrArray.size;\n  return blobOrArray.length;\n}\n/*\n  Typed arrays and blobs don't have a concat method.\n  This function helps StreamSource accumulate data to reach chunkSize.\n*/\n\n\nfunction concat(a, b) {\n  if (a.concat) {\n    // Is `a` an Array?\n    return a.concat(b);\n  }\n\n  if (a instanceof Blob) {\n    return new Blob([a, b], {\n      type: a.type\n    });\n  }\n\n  if (a.set) {\n    // Is `a` a typed array?\n    var c = new a.constructor(a.length + b.length);\n    c.set(a);\n    c.set(b, a.length);\n    return c;\n  }\n\n  throw new Error(\"Unknown data type\");\n}\n\nfunction getSource(input, chunkSize, callback) {\n  // In React Native, when user selects a file, instead of a File or Blob,\n  // you usually get a file object {} with a uri property that contains\n  // a local path to the file. We use XMLHttpRequest to fetch\n  // the file blob, before uploading with tus.\n  if ((0, _isReactNative2.default)() && input && typeof input.uri !== \"undefined\") {\n    (0, _uriToBlob2.default)(input.uri, function (err, blob) {\n      if (err) {\n        return callback(new Error(\"tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. \" + err));\n      }\n\n      callback(null, new FileSource(blob));\n    });\n    return;\n  } // Since we emulate the Blob type in our tests (not all target browsers\n  // support it), we cannot use `instanceof` for testing whether the input value\n  // can be handled. Instead, we simply check is the slice() function and the\n  // size property are available.\n\n\n  if (typeof input.slice === \"function\" && typeof input.size !== \"undefined\") {\n    callback(null, new FileSource(input));\n    return;\n  }\n\n  if (typeof input.read === \"function\") {\n    chunkSize = +chunkSize;\n\n    if (!isFinite(chunkSize)) {\n      callback(new Error(\"cannot create source for stream without a finite value for the `chunkSize` option\"));\n      return;\n    }\n\n    callback(null, new StreamSource(input, chunkSize));\n    return;\n  }\n\n  callback(new Error(\"source object may only be an instance of File, Blob, or Reader in this environment\"));\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","getSource","_isReactNative","require","_isReactNative2","_interopRequireDefault","_uriToBlob","_uriToBlob2","_isCordova","_isCordova2","_readAsByteArray","_readAsByteArray2","obj","__esModule","default","_classCallCheck","instance","TypeError","FileSource","file","_file","size","slice","start","end","callback","err","chunk","close","StreamSource","reader","chunkSize","_chunkSize","_buffer","undefined","_bufferOffset","_reader","_done","Error","_readUntilEnoughDataOrDone","_this","hasEnoughData","len","_getDataFromBuffer","read","then","_ref","done","concat","catch","hasAllDataBeenRead","cancel","blobOrArray","a","b","Blob","type","set","c","constructor","input","uri","blob","isFinite"],"sources":["/home/gapasil/Рабочий стол/Загрузки/дз/javascript/netlear/clientNetlear/node_modules/tus-js-client/lib.es5/browser/source.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.getSource = getSource;\n\nvar _isReactNative = require(\"./isReactNative\");\n\nvar _isReactNative2 = _interopRequireDefault(_isReactNative);\n\nvar _uriToBlob = require(\"./uriToBlob\");\n\nvar _uriToBlob2 = _interopRequireDefault(_uriToBlob);\n\nvar _isCordova = require(\"./isCordova\");\n\nvar _isCordova2 = _interopRequireDefault(_isCordova);\n\nvar _readAsByteArray = require(\"./readAsByteArray\");\n\nvar _readAsByteArray2 = _interopRequireDefault(_readAsByteArray);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FileSource = function () {\n  function FileSource(file) {\n    _classCallCheck(this, FileSource);\n\n    this._file = file;\n    this.size = file.size;\n  }\n\n  _createClass(FileSource, [{\n    key: \"slice\",\n    value: function slice(start, end, callback) {\n      // In Apache Cordova applications, a File must be resolved using\n      // FileReader instances, see\n      // https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-file/index.html#read-a-file\n      if ((0, _isCordova2.default)()) {\n        (0, _readAsByteArray2.default)(this._file.slice(start, end), function (err, chunk) {\n          if (err) return callback(err);\n\n          callback(null, chunk);\n        });\n        return;\n      }\n\n      callback(null, this._file.slice(start, end));\n    }\n  }, {\n    key: \"close\",\n    value: function close() {}\n  }]);\n\n  return FileSource;\n}();\n\nvar StreamSource = function () {\n  function StreamSource(reader, chunkSize) {\n    _classCallCheck(this, StreamSource);\n\n    this._chunkSize = chunkSize;\n    this._buffer = undefined;\n    this._bufferOffset = 0;\n    this._reader = reader;\n    this._done = false;\n  }\n\n  _createClass(StreamSource, [{\n    key: \"slice\",\n    value: function slice(start, end, callback) {\n      if (start < this._bufferOffset) {\n        callback(new Error(\"Requested data is before the reader's current offset\"));\n        return;\n      }\n\n      return this._readUntilEnoughDataOrDone(start, end, callback);\n    }\n  }, {\n    key: \"_readUntilEnoughDataOrDone\",\n    value: function _readUntilEnoughDataOrDone(start, end, callback) {\n      var _this = this;\n\n      var hasEnoughData = end <= this._bufferOffset + len(this._buffer);\n      if (this._done || hasEnoughData) {\n        var value = this._getDataFromBuffer(start, end);\n        callback(null, value, value == null ? this._done : false);\n        return;\n      }\n      this._reader.read().then(function (_ref) {\n        var value = _ref.value,\n            done = _ref.done;\n\n        if (done) {\n          _this._done = true;\n        } else if (_this._buffer === undefined) {\n          _this._buffer = value;\n        } else {\n          _this._buffer = concat(_this._buffer, value);\n        }\n\n        _this._readUntilEnoughDataOrDone(start, end, callback);\n      }).catch(function (err) {\n        callback(new Error(\"Error during read: \" + err));\n      });\n    }\n  }, {\n    key: \"_getDataFromBuffer\",\n    value: function _getDataFromBuffer(start, end) {\n      // Remove data from buffer before `start`.\n      // Data might be reread from the buffer if an upload fails, so we can only\n      // safely delete data when it comes *before* what is currently being read.\n      if (start > this._bufferOffset) {\n        this._buffer = this._buffer.slice(start - this._bufferOffset);\n        this._bufferOffset = start;\n      }\n      // If the buffer is empty after removing old data, all data has been read.\n      var hasAllDataBeenRead = len(this._buffer) === 0;\n      if (this._done && hasAllDataBeenRead) {\n        return null;\n      }\n      // We already removed data before `start`, so we just return the first\n      // chunk from the buffer.\n      return this._buffer.slice(0, end - start);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this._reader.cancel) {\n        this._reader.cancel();\n      }\n    }\n  }]);\n\n  return StreamSource;\n}();\n\nfunction len(blobOrArray) {\n  if (blobOrArray === undefined) return 0;\n  if (blobOrArray.size !== undefined) return blobOrArray.size;\n  return blobOrArray.length;\n}\n\n/*\n  Typed arrays and blobs don't have a concat method.\n  This function helps StreamSource accumulate data to reach chunkSize.\n*/\nfunction concat(a, b) {\n  if (a.concat) {\n    // Is `a` an Array?\n    return a.concat(b);\n  }\n  if (a instanceof Blob) {\n    return new Blob([a, b], { type: a.type });\n  }\n  if (a.set) {\n    // Is `a` a typed array?\n    var c = new a.constructor(a.length + b.length);\n    c.set(a);\n    c.set(b, a.length);\n    return c;\n  }\n  throw new Error(\"Unknown data type\");\n}\n\nfunction getSource(input, chunkSize, callback) {\n  // In React Native, when user selects a file, instead of a File or Blob,\n  // you usually get a file object {} with a uri property that contains\n  // a local path to the file. We use XMLHttpRequest to fetch\n  // the file blob, before uploading with tus.\n  if ((0, _isReactNative2.default)() && input && typeof input.uri !== \"undefined\") {\n    (0, _uriToBlob2.default)(input.uri, function (err, blob) {\n      if (err) {\n        return callback(new Error(\"tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. \" + err));\n      }\n      callback(null, new FileSource(blob));\n    });\n    return;\n  }\n\n  // Since we emulate the Blob type in our tests (not all target browsers\n  // support it), we cannot use `instanceof` for testing whether the input value\n  // can be handled. Instead, we simply check is the slice() function and the\n  // size property are available.\n  if (typeof input.slice === \"function\" && typeof input.size !== \"undefined\") {\n    callback(null, new FileSource(input));\n    return;\n  }\n\n  if (typeof input.read === \"function\") {\n    chunkSize = +chunkSize;\n    if (!isFinite(chunkSize)) {\n      callback(new Error(\"cannot create source for stream without a finite value for the `chunkSize` option\"));\n      return;\n    }\n    callback(null, new StreamSource(input, chunkSize));\n    return;\n  }\n\n  callback(new Error(\"source object may only be an instance of File, Blob, or Reader in this environment\"));\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}