{"ast":null,"code":"import _objectSpread from\"/var/www/netlear/html/clientNetlear/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import\"./LoginPage.scss\";// import { getToken } from '../../../redux/actions/user';\nimport{useSelector,useDispatch}from\"react-redux\";import{fetchLogIn}from\"../../../redux/actions/Auth/Auth\";import{Form,Input,Button,Checkbox}from\"antd\";import Spinner from\"../../../components/Spinner/Spinner\";import AuthHeader from\"../../../components/AuthHeader/AuthHeader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var layout={labelCol:{span:4},wrapperCol:{span:22}};var tailLayout={// wrapperCol: {\n//   offset: 8,\n//   span: 16,\n// },\n};function LoginPage(_ref){var history=_ref.history;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.Auth;}),isAuth=_useSelector.isAuth;React.useEffect(function(){if(isAuth){history.push(\"/\");}},[isAuth]);var onFinish=function onFinish(values){console.log(\"Success:\",values);dispatch(fetchLogIn(values));// dispatch(getToken(values.email, values.password, values.remember));\n};var onFinishFailed=function onFinishFailed(errorInfo){console.log(\"Failed:\",errorInfo);};var onClickRegister=function onClickRegister(){history.push(\"/reg-page\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"register\",children:[/*#__PURE__*/_jsx(AuthHeader,{title:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"}),/*#__PURE__*/_jsx(\"div\",{className:\"register__form\",children:/*#__PURE__*/_jsxs(Form,_objectSpread(_objectSpread({},layout),{},{name:\"basic\",initialValues:{remember:true},onFinish:onFinish,onFinishFailed:onFinishFailed,children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Email\",name:\"email\",rules:[{required:true,message:\"Пожалуйста, введите Email!\"}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"\"})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",name:\"password\",rules:[{required:true,message:\"Пожалуйста, введите пароль!\"}],children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsx(Form.Item,_objectSpread(_objectSpread({},tailLayout),{},{name:\"remember\",valuePropName:\"checked\",children:/*#__PURE__*/_jsx(Checkbox,{children:\"\\u0417\\u0430\\u043F\\u043E\\u043C\\u043D\\u0438\\u0442\\u044C \\u043C\\u0435\\u043D\\u044F\"})})),/*#__PURE__*/_jsx(Form.Item,_objectSpread(_objectSpread({},tailLayout),{},{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})})),/*#__PURE__*/_jsxs(Form.Item,_objectSpread(_objectSpread({},tailLayout),{},{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0438\\u043B\\u0438\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:onClickRegister,children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]}))]}))})]});}export default LoginPage;","map":{"version":3,"names":["React","useSelector","useDispatch","fetchLogIn","Form","Input","Button","Checkbox","Spinner","AuthHeader","layout","labelCol","span","wrapperCol","tailLayout","LoginPage","history","dispatch","state","Auth","isAuth","useEffect","push","onFinish","values","console","log","onFinishFailed","errorInfo","onClickRegister","remember","required","message"],"sources":["/var/www/netlear/html/clientNetlear/src/views/AuthForms/LoginPage/LoginPage.jsx"],"sourcesContent":["import React from \"react\";\nimport \"./LoginPage.scss\";\n\n// import { getToken } from '../../../redux/actions/user';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchLogIn } from \"../../../redux/actions/Auth/Auth\";\n\nimport { Form, Input, Button, Checkbox } from \"antd\";\n\nimport Spinner from \"../../../components/Spinner/Spinner\";\nimport AuthHeader from \"../../../components/AuthHeader/AuthHeader\";\n\nconst layout = {\n  labelCol: {\n    span: 4,\n  },\n  wrapperCol: {\n    span: 22,\n  },\n};\nconst tailLayout = {\n  // wrapperCol: {\n  //   offset: 8,\n  //   span: 16,\n  // },\n};\n\nfunction LoginPage({ history }) {\n  const dispatch = useDispatch();\n  const { isAuth } = useSelector((state) => state.Auth);\n\n  React.useEffect(() => {\n    if (isAuth) {\n      history.push(\"/\");\n    }\n  }, [isAuth]);\n\n  const onFinish = (values) => {\n    console.log(\"Success:\", values);\n    dispatch(fetchLogIn(values));\n    // dispatch(getToken(values.email, values.password, values.remember));\n  };\n\n  const onFinishFailed = (errorInfo) => {\n    console.log(\"Failed:\", errorInfo);\n  };\n\n  const onClickRegister = () => {\n    history.push(\"/reg-page\");\n  };\n  return (\n    <div className=\"register\">\n      <AuthHeader title=\"Войти\" />\n      <div className=\"register__form\">\n        <Form\n          {...layout}\n          name=\"basic\"\n          initialValues={{\n            remember: true,\n          }}\n          onFinish={onFinish}\n          onFinishFailed={onFinishFailed}\n        >\n          <Form.Item\n            label=\"Email\"\n            name=\"email\"\n            rules={[\n              {\n                required: true,\n                message: \"Пожалуйста, введите Email!\",\n              },\n            ]}\n          >\n            <Input placeholder=\"\" />\n          </Form.Item>\n\n          <Form.Item\n            label=\"Пароль\"\n            name=\"password\"\n            rules={[\n              {\n                required: true,\n                message: \"Пожалуйста, введите пароль!\",\n              },\n            ]}\n          >\n            <Input.Password />\n          </Form.Item>\n\n          <Form.Item {...tailLayout} name=\"remember\" valuePropName=\"checked\">\n            <Checkbox>Запомнить меня</Checkbox>\n          </Form.Item>\n\n          <Form.Item {...tailLayout}>\n            <Button type=\"primary\" htmlType=\"submit\">\n              Войти\n            </Button>\n          </Form.Item>\n\n          <Form.Item {...tailLayout}>\n            <p>или</p>\n            <Button type=\"primary\" onClick={onClickRegister}>\n              Зарегистрироваться\n            </Button>\n          </Form.Item>\n        </Form>\n      </div>\n    </div>\n  );\n}\n\nexport default LoginPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}