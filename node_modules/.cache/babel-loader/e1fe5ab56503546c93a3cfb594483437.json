{"ast":null,"code":"import React from'react';import'./EventUploadImage.scss';import{Popover}from'antd';import{FileImageTwoTone}from'@ant-design/icons';import{useDispatch,useSelector}from'react-redux';import{setCourseImg}from'../../redux/actions/UploadingCourse/UploadingCourse';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EventUploadImage(_ref){var selector=_ref.selector,action=_ref.action,popoverContentType=_ref.popoverContentType,_ref$index=_ref.index,index=_ref$index===void 0?1000:_ref$index;var courseFiles=useSelector(function(state){return state.Temp.courseFiles;});var ref=React.useRef();var dispatch=useDispatch();var onPickUpImage=function onPickUpImage(e){var file=e.target.files[0];var reader=new FileReader();var newAtion=action;var url=reader.readAsDataURL(file);setFileImgForUpload(file,selector,index);reader.onloadend=function(e){dispatch(newAtion(selector,index,e.target.result));};};var setFileImgForUpload=function setFileImgForUpload(file,selector,index){if(selector==='promoImg'){var webinarsImgSelector=\"webinarsImg\".concat(index);dispatch(setCourseImg(file,webinarsImgSelector,index));}else if(selector==='img'){var speakerBlockImgSelector='imgSpeaker';dispatch(setCourseImg(file,speakerBlockImgSelector));}else{dispatch(setCourseImg(file,selector));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{id:index===1000?'file-input':index+'file-input',ref:ref,style:{display:'none'},type:\"file\",name:\"user[image]\",multiple:false,onChange:onPickUpImage}),/*#__PURE__*/_jsx(\"label\",{htmlFor:index===1000?'file-input':index+'file-input',children:/*#__PURE__*/_jsx(Popover,{placement:\"topRight\",content:popoverContentType.content(),title:popoverContentType.title,trigger:\"hover\",children:/*#__PURE__*/_jsx(FileImageTwoTone,{style:{fontSize:'32px',cursor:'pointer',position:'absolute',right:'0'}})})})]});}export default EventUploadImage;","map":{"version":3,"names":["React","Popover","FileImageTwoTone","useDispatch","useSelector","setCourseImg","EventUploadImage","selector","action","popoverContentType","index","courseFiles","state","Temp","ref","useRef","dispatch","onPickUpImage","e","file","target","files","reader","FileReader","newAtion","url","readAsDataURL","setFileImgForUpload","onloadend","result","webinarsImgSelector","speakerBlockImgSelector","display","content","title","fontSize","cursor","position","right"],"sources":["/var/www/netlear/html/clientNetlear/src/components/EventUploadImage/EventUploadImage.jsx"],"sourcesContent":["import React from 'react';\nimport './EventUploadImage.scss';\n\nimport { Popover } from 'antd';\nimport { FileImageTwoTone } from '@ant-design/icons';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setCourseImg } from '../../redux/actions/UploadingCourse/UploadingCourse';\n\nfunction EventUploadImage({ selector, action, popoverContentType, index = 1000 }) {\n  const courseFiles = useSelector((state) => state.Temp.courseFiles);\n  const ref = React.useRef();\n  const dispatch = useDispatch();\n  \n  const onPickUpImage = (e) => {\n    const file = e.target.files[0];\n    const reader = new FileReader();\n    const newAtion = action;\n    const url = reader.readAsDataURL(file);\n\n    setFileImgForUpload(file, selector, index);\n    reader.onloadend = (e) => {\n      dispatch(newAtion(selector, index, e.target.result));\n    };\n  };\n\n  const setFileImgForUpload = (file, selector, index) => {\n    if (selector === 'promoImg') {\n      const webinarsImgSelector = `webinarsImg${index}`;\n      dispatch(setCourseImg(file, webinarsImgSelector, index));\n    } else if (selector === 'img') {\n      const speakerBlockImgSelector = 'imgSpeaker';\n      dispatch(setCourseImg(file, speakerBlockImgSelector));\n    } else {\n      dispatch(setCourseImg(file, selector));\n    }\n  };\n\n  return (\n    <>\n      <input\n        id={index === 1000 ? 'file-input' : index + 'file-input'}\n        ref={ref}\n        style={{ display: 'none' }}\n        type=\"file\"\n        name=\"user[image]\"\n        multiple={false}\n        onChange={onPickUpImage}\n      />\n\n      <label htmlFor={index === 1000 ? 'file-input' : index + 'file-input'}>\n        <Popover\n          placement=\"topRight\"\n          content={popoverContentType.content()}\n          title={popoverContentType.title}\n          trigger=\"hover\">\n          <FileImageTwoTone\n            style={{ fontSize: '32px', cursor: 'pointer', position: 'absolute', right: '0' }}\n          />\n        </Popover>\n      </label>\n    </>\n  );\n}\n\nexport default EventUploadImage;\n"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAO,yBAAP,CAEA,OAASC,OAAT,KAAwB,MAAxB,CACA,OAASC,gBAAT,KAAiC,mBAAjC,CAEA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,YAAT,KAA6B,qDAA7B,C,6IAEA,QAASC,iBAAT,MAAkF,IAAtDC,SAAsD,MAAtDA,QAAsD,CAA5CC,MAA4C,MAA5CA,MAA4C,CAApCC,kBAAoC,MAApCA,kBAAoC,iBAAhBC,KAAgB,CAAhBA,KAAgB,qBAAR,IAAQ,YAChF,GAAMC,YAAW,CAAGP,WAAW,CAAC,SAACQ,KAAD,QAAWA,MAAK,CAACC,IAAN,CAAWF,WAAtB,EAAD,CAA/B,CACA,GAAMG,IAAG,CAAGd,KAAK,CAACe,MAAN,EAAZ,CACA,GAAMC,SAAQ,CAAGb,WAAW,EAA5B,CAEA,GAAMc,cAAa,CAAG,QAAhBA,cAAgB,CAACC,CAAD,CAAO,CAC3B,GAAMC,KAAI,CAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb,CACA,GAAMC,OAAM,CAAG,GAAIC,WAAJ,EAAf,CACA,GAAMC,SAAQ,CAAGhB,MAAjB,CACA,GAAMiB,IAAG,CAAGH,MAAM,CAACI,aAAP,CAAqBP,IAArB,CAAZ,CAEAQ,mBAAmB,CAACR,IAAD,CAAOZ,QAAP,CAAiBG,KAAjB,CAAnB,CACAY,MAAM,CAACM,SAAP,CAAmB,SAACV,CAAD,CAAO,CACxBF,QAAQ,CAACQ,QAAQ,CAACjB,QAAD,CAAWG,KAAX,CAAkBQ,CAAC,CAACE,MAAF,CAASS,MAA3B,CAAT,CAAR,CACD,CAFD,CAGD,CAVD,CAYA,GAAMF,oBAAmB,CAAG,QAAtBA,oBAAsB,CAACR,IAAD,CAAOZ,QAAP,CAAiBG,KAAjB,CAA2B,CACrD,GAAIH,QAAQ,GAAK,UAAjB,CAA6B,CAC3B,GAAMuB,oBAAmB,sBAAiBpB,KAAjB,CAAzB,CACAM,QAAQ,CAACX,YAAY,CAACc,IAAD,CAAOW,mBAAP,CAA4BpB,KAA5B,CAAb,CAAR,CACD,CAHD,IAGO,IAAIH,QAAQ,GAAK,KAAjB,CAAwB,CAC7B,GAAMwB,wBAAuB,CAAG,YAAhC,CACAf,QAAQ,CAACX,YAAY,CAACc,IAAD,CAAOY,uBAAP,CAAb,CAAR,CACD,CAHM,IAGA,CACLf,QAAQ,CAACX,YAAY,CAACc,IAAD,CAAOZ,QAAP,CAAb,CAAR,CACD,CACF,CAVD,CAYA,mBACE,wCACE,cACE,EAAE,CAAEG,KAAK,GAAK,IAAV,CAAiB,YAAjB,CAAgCA,KAAK,CAAG,YAD9C,CAEE,GAAG,CAAEI,GAFP,CAGE,KAAK,CAAE,CAAEkB,OAAO,CAAE,MAAX,CAHT,CAIE,IAAI,CAAC,MAJP,CAKE,IAAI,CAAC,aALP,CAME,QAAQ,CAAE,KANZ,CAOE,QAAQ,CAAEf,aAPZ,EADF,cAWE,cAAO,OAAO,CAAEP,KAAK,GAAK,IAAV,CAAiB,YAAjB,CAAgCA,KAAK,CAAG,YAAxD,uBACE,KAAC,OAAD,EACE,SAAS,CAAC,UADZ,CAEE,OAAO,CAAED,kBAAkB,CAACwB,OAAnB,EAFX,CAGE,KAAK,CAAExB,kBAAkB,CAACyB,KAH5B,CAIE,OAAO,CAAC,OAJV,uBAKE,KAAC,gBAAD,EACE,KAAK,CAAE,CAAEC,QAAQ,CAAE,MAAZ,CAAoBC,MAAM,CAAE,SAA5B,CAAuCC,QAAQ,CAAE,UAAjD,CAA6DC,KAAK,CAAE,GAApE,CADT,EALF,EADF,EAXF,GADF,CAyBD,CAED,cAAehC,iBAAf"},"metadata":{},"sourceType":"module"}