{"ast":null,"code":"import'./EventPageParallaxBanner.scss';import React from'react';import{ParallaxBanner}from'react-scroll-parallax';import{Popover}from'antd';import{url}from\"../../../../conf\";import promoImg from'../../../../assets/img/medicineSections/dentistry.jpg';import EditButton from'../../../../components/EditButton/EditButton';import EventUploadImage from'../../../../components/EventUploadImage/EventUploadImage';import{useDispatch,useSelector}from'react-redux';import{setBannerData,setBannerSelectors}from'../../../../redux/actions/eventRedactor/eventRedactor';import{bannerPopoversContent}from'../../../../utils/eventPopoverContent/bannerPopoversContent';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EventPageParallaxBanner(_ref){var variant=_ref.variant;var dispatch=useDispatch();var eventRedactor=useSelector(function(state){return state.eventRedactor;});var dataBanner=eventRedactor.banner.data;var title=bannerPopoversContent.title,speakerName=bannerPopoversContent.speakerName,speakerShortDescription=bannerPopoversContent.speakerShortDescription,backgroundImg=bannerPopoversContent.backgroundImg;var objBanner;var onSelectInputValue=function onSelectInputValue(e){var selector=e.target.attributes.selector.nodeValue;var dataBanner=e.target.value;dispatch(setBannerData(selector,'',dataBanner));};if(variant==\"redactor\"){objBanner={image:dataBanner.backgroundImg||promoImg,amount:1,children:''};}else{objBanner={image:\"\".concat(url,\"coorsefiles/\").concat(dataBanner.backgroundImg),amount:1,children:''};}return/*#__PURE__*/_jsx(\"div\",{className:\"parallax-banner\",children:/*#__PURE__*/_jsxs(ParallaxBanner,{className:\"\",layers:[objBanner],style:{minHeight:'400px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"parallax-banner-content\",children:[variant==='redactor'&&/*#__PURE__*/_jsx(EventUploadImage,{selector:'backgroundImg',action:setBannerData,popoverContentType:backgroundImg}),/*#__PURE__*/_jsxs(\"div\",{className:\"parallax-banner-content__wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"parallax-banner-content__quantity\",children:[\"\\u043A\\u0443\\u0440\\u0441 \\u0438\\u0437 \",/*#__PURE__*/_jsx(\"span\",{className:\"text-styled__bright text-styled__bright_large\",children:eventRedactor.mainContent.data.vebinars.length}),' ',\"\\u0432\\u0435\\u0431\\u0438\\u043D\\u0430\\u0440\\u043E\\u0432 \",/*#__PURE__*/_jsx(\"span\",{className:\"text-styled__bright\",children:\"\\u0432 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0438\"})]}),variant==\"redactor\"?/*#__PURE__*/_jsx(Popover,{placement:\"topRight\",title:title.title,content:title.content,trigger:\"focus\",children:/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",className:\"test-input parallax-banner-content__title\",value:dataBanner.title,selector:\"title\",onChange:onSelectInputValue,autoFocus:true})}):/*#__PURE__*/_jsxs(\"h2\",{className:\"parallax-banner-content__title\",children:[dataBanner.title,variant==='redactor'&&/*#__PURE__*/_jsx(EditButton,{selector:\"title\",action:setBannerSelectors})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"parallax-banner-content__speaker-block speaker-block\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"parallax-banner-content__quantity\",children:\"\\u0441\\u043F\\u0438\\u043A\\u0435\\u0440\"}),variant==\"redactor\"?/*#__PURE__*/_jsx(Popover,{placement:\"topRight\",title:speakerName.title,content:speakerName.content,trigger:\"focus\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"test-input speaker-block__name\",value:dataBanner.speakerName,selector:\"speakerName\",autofocus:true,onChange:onSelectInputValue})}):/*#__PURE__*/_jsxs(\"h2\",{className:\"speaker-block__name\",children:[dataBanner.speakerName,variant==='redactor'&&/*#__PURE__*/_jsx(EditButton,{selector:\"speakerName\",action:setBannerSelectors})]}),variant==\"redactor\"?/*#__PURE__*/_jsx(Popover,{placement:\"topRight\",title:speakerShortDescription.title,content:speakerShortDescription.content,trigger:\"focus\",children:/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",className:\"test-input speaker-block__description\",value:dataBanner.speakerShortDescription,selector:\"speakerShortDescription\",onChange:onSelectInputValue})}):/*#__PURE__*/_jsxs(\"p\",{className:\"speaker-block__description\",children:[dataBanner.speakerShortDescription,variant==='redactor'&&/*#__PURE__*/_jsx(EditButton,{selector:\"speakerShortDescription\",action:setBannerSelectors})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"slider__item_shadow\"})]})});}export default EventPageParallaxBanner;","map":{"version":3,"names":["React","ParallaxBanner","Popover","url","promoImg","EditButton","EventUploadImage","useDispatch","useSelector","setBannerData","setBannerSelectors","bannerPopoversContent","EventPageParallaxBanner","variant","dispatch","eventRedactor","state","dataBanner","banner","data","title","speakerName","speakerShortDescription","backgroundImg","objBanner","onSelectInputValue","e","selector","target","attributes","nodeValue","value","image","amount","children","minHeight","mainContent","vebinars","length","content"],"sources":["/var/www/netlear/html/clientNetlear/src/views/CoorseRedactorPage/corse1Page/EventPageParallaxBanner/EventPageParallaxBanner.jsx"],"sourcesContent":["import './EventPageParallaxBanner.scss';\nimport React from 'react';\n\nimport { ParallaxBanner } from 'react-scroll-parallax';\nimport { Popover } from 'antd';\nimport { url } from \"../../../../conf\"\nimport promoImg from '../../../../assets/img/medicineSections/dentistry.jpg';\n\nimport EditButton from '../../../../components/EditButton/EditButton';\nimport EventUploadImage from '../../../../components/EventUploadImage/EventUploadImage';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setBannerData, setBannerSelectors } from '../../../../redux/actions/eventRedactor/eventRedactor';\nimport { bannerPopoversContent } from '../../../../utils/eventPopoverContent/bannerPopoversContent';\n\nfunction EventPageParallaxBanner({ variant }) {\n  const dispatch = useDispatch();\n  const eventRedactor = useSelector((state) => state.eventRedactor);\n  const dataBanner = eventRedactor.banner.data\n  \n  const { title, speakerName, speakerShortDescription, backgroundImg } = bannerPopoversContent;\n  let objBanner\n\n  const onSelectInputValue = (e) => {\n    const selector = e.target.attributes.selector.nodeValue;\n    const dataBanner = e.target.value;\n    dispatch(setBannerData(selector, '', dataBanner));\n  };\n\n  if(variant == \"redactor\"){\n    objBanner = {\n      image: dataBanner.backgroundImg || promoImg,\n      amount: 1,\n      children: '',\n    }\n  } else {\n    objBanner = {\n      image:`${url}coorsefiles/${dataBanner.backgroundImg}`,\n      amount: 1,\n      children: '',\n    }\n  }\n\n  return (\n    <div className=\"parallax-banner\">\n      <ParallaxBanner\n        className=\"\"\n        layers={[\n          objBanner\n        ]}\n        style={{\n          minHeight: '400px',\n        }}>\n        <div className=\"parallax-banner-content\">\n          {variant === 'redactor' && (\n            <EventUploadImage\n              selector={'backgroundImg'}\n              action={setBannerData}\n              popoverContentType={backgroundImg}\n            />\n          )}\n\n          <div className=\"parallax-banner-content__wrapper\">\n            <div className=\"parallax-banner-content__quantity\">\n              курс из <span className=\"text-styled__bright text-styled__bright_large\">{eventRedactor.mainContent.data.vebinars.length}</span>{' '}\n              вебинаров <span className=\"text-styled__bright\">в записи</span>\n            </div>\n            {variant == \"redactor\" ? (\n              <Popover\n                placement=\"topRight\"\n                title={title.title}\n                content={title.content}\n                trigger=\"focus\">\n                <textarea\n                  type=\"text\"\n                  className=\"test-input parallax-banner-content__title\"\n                  value={dataBanner.title}\n                  selector=\"title\"\n                  onChange={onSelectInputValue}\n                  autoFocus\n                />\n              </Popover>\n            ) : (\n              <h2 className=\"parallax-banner-content__title\">\n                {dataBanner.title}\n                {variant === 'redactor' && (\n                  <EditButton selector=\"title\" action={setBannerSelectors} />\n                )}\n              </h2>\n            )}\n\n            <div className=\"parallax-banner-content__speaker-block speaker-block\">\n              <div className=\"parallax-banner-content__quantity\">спикер</div>\n              {variant == \"redactor\" ? (\n                <Popover\n                  placement=\"topRight\"\n                  title={speakerName.title}\n                  content={speakerName.content}\n                  trigger=\"focus\">\n                  <input\n                    type=\"text\"\n                    className=\"test-input speaker-block__name\"\n                    value={dataBanner.speakerName}\n                    selector=\"speakerName\"\n                    autofocus\n                    onChange={onSelectInputValue}\n                  />\n                </Popover>\n              ) : (\n                <h2 className=\"speaker-block__name\">\n                  {dataBanner.speakerName}\n                  {variant === 'redactor' && (\n                    <EditButton selector=\"speakerName\" action={setBannerSelectors} />\n                  )}\n                </h2>\n              )}\n              {variant == \"redactor\" ? (\n                <Popover\n                  placement=\"topRight\"\n                  title={speakerShortDescription.title}\n                  content={speakerShortDescription.content}\n                  trigger=\"focus\">\n                  <textarea\n                    type=\"text\"\n                    className=\"test-input speaker-block__description\"\n                    value={dataBanner.speakerShortDescription}\n                    selector=\"speakerShortDescription\"\n                    onChange={onSelectInputValue}\n                  />\n                </Popover>\n              ) : (\n                <p className=\"speaker-block__description\">\n                  {dataBanner.speakerShortDescription}\n                  {variant === 'redactor' && (\n                    <EditButton selector=\"speakerShortDescription\" action={setBannerSelectors} />\n                  )}\n                </p>\n              )}\n            </div>\n          </div>\n        </div>\n        <div className=\"slider__item_shadow\"></div>\n      </ParallaxBanner>\n    </div>\n  );\n}\n\nexport default EventPageParallaxBanner;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}